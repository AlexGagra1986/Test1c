Процедура ПринятьНажатие(Элемент)
	  ПеремещениеТоваров = ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.ПеремещениеТоваров);
      ПеремещениеТоваровРежимПриемки = ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.ПеремещениеТоваровРежимПриемки);
      ПеременнаяГотовности = Ложь;
	  Если ЭтоНовый() тогда
		Если ПеремещениеТоваров Тогда   
		ЭтотОбъект.Записать(РежимЗаписиДокумента.Запись);
		КонецЕсли;
	КонецЕсли;
Если не  ПеремещениеТоваров ТОгда 	
 Для Каждого Элемент Из ЭтотОбъект.Товары Цикл
		 Колечество = Элемент.Количество;
		 Факт = Элемент.Факт;
		 ХарактеристикаНоменклатуры = Элемент.ХарактеристикаНоменклатуры;
 	Если Не ЗначениеЗаполнено(Факт) ТОгда
			Сообщить("Необходимо заполнить Факт на приемке по характеристике "+ХарактеристикаНоменклатуры);
		    Прервать;
	КонецЕсли;
	Если Колечество <> Факт Тогда 
			 Сообщить("Факт и Количество не соответствуют по характеристике "+ХарактеристикаНоменклатуры);
	        Прервать;		 
    КонецЕсли;	 	
	Если Колечество = Факт ТОгда
		ЭтотОбъект.Записать(РежимЗаписиДокумента.Проведение);
        Сообщить("Запись по характеристике "+ ХарактеристикаНоменклатуры +"Проведена");
	КонецЕсли;
		   КонецЦикла;	
	   Иначе 
		 Для Каждого Элемент Из ЭтотОбъект.Товары Цикл
		 Колечество = Элемент.Количество;
		 Факт = Элемент.Факт;
		 ХарактеристикаНоменклатуры = Элемент.ХарактеристикаНоменклатуры;
		 
		 Если Колечество = Факт Тогда
			ЭтотОбъект.Записать(РежимЗаписиДокумента.Запись);
            Сообщить("Записано "+ХарактеристикаНоменклатуры);
          ИначеЕсли Колечество <> Факт Тогда 
		   Сообщить("Поле "+ХарактеристикаНоменклатуры+" Не корректно заполнены");
		   ЭтотОбъект.Записать(РежимЗаписиДокумента.Запись);
	      Прервать;  

		 КонецЕсли;
         КонецЦикла;	
КонецЕсли;
КонецПроцедуры

Процедура ТоварыПриАктивизацииКолонки(Элемент)
ПеремещениеТоваров = ПользователиИнформационнойБазы.ТекущийПользователь().Роли.Содержит(Метаданные.Роли.ПеремещениеТоваров);

Если ПеремещениеТоваров ТОгда	
мКолонкиТовары = ЭлементыФормы.Товары.Колонки;
мКолонкиТовары.Факт.Доступность = Ложь;
//мКолонкиТовары.Факт.Видимость = Ложь;
КонецЕсли;
КонецПроцедуры

